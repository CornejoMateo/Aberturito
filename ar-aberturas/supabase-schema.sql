create table if not exists public.profiles (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  category character varying not null,
  code character varying not null,
  line character varying not null,
  color character varying not null,
  status character varying not null,
  quantity smallint not null,
  site character varying not null,
  width numeric not null,
  material character varying not null,
  image_url text null,
  last_update timestamp with time zone null,
  constraint profiles_pkey primary key (id),
  constraint quantity_positive check ((quantity >= 0)),
  constraint width_range check ((width > (0)::numeric))
) TABLESPACE pg_default;

create table if not exists public.lines (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name_line character varying not null,
  opening character varying not null,
  constraint Lines_pkey primary key (id),
  constraint lines_name_line_key unique (name_line),
  constraint opening_valid check (
    (
      (opening)::text = any (
        (
          array[
            'Aluminio'::character varying,
            'PVC'::character varying
          ]
        )::text[]
      )
    )
  )
) TABLESPACE pg_default;

create table if not exists public.colors (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  line_name character varying not null,
  name_color character varying not null,
  constraint colors_pkey primary key (id),
  constraint colors_color_line_unique unique (name_color, line_name),
  constraint colors_line_name_fkey foreign KEY (line_name) references lines (name_line) on update CASCADE
) TABLESPACE pg_default;

create table public.codes (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name_code character varying not null,
  line_name character varying null,
  constraint codes_pkey primary key (id),
  constraint codes_name_line_unique unique (name_code, line_name),
  constraint codes_line_name_fkey foreign KEY (line_name) references lines (name_line) on update CASCADE
) TABLESPACE pg_default;

create table if not exists public.sites (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name_site character varying not null,
  constraint sites_pkey primary key (id),
  constraint sites_name_site_key unique (name_site)
) TABLESPACE pg_default;


create table if not exists public.ironworks_category (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  ironwork_line character varying null,
  ironwork_code character varying not null,
  ironwork_description character varying null,
  ironwork_color character varying not null,
  ironwork_quantity_for_lump bigint not null,
  ironwork_quantity_lump bigint not null,
  ironwork_quantity bigint not null,
  ironwork_site character varying not null,
  ironwork_image_url character varying null,
  ironwork_material character varying not null,
  ironwork_price numeric(10, 2) null,
  ironwork_category character varying not null,
  last_update timestamp without time zone null,
  ironwork_brand character varying null,
  constraint ironworks_category_pkey primary key (id),
  constraint chk_ironwork_price_non_negative check ((ironwork_price >= (0)::numeric)),
  constraint chk_ironwork_quantity_for_lump_non_negative check ((ironwork_quantity_for_lump >= 0)),
  constraint chk_ironwork_quantity_lump_non_negative check ((ironwork_quantity_lump >= 0)),
  constraint chk_ironwork_quantity_non_negative check ((ironwork_quantity >= 0))
) TABLESPACE pg_default;

create table if not exists public.accesories_category (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  accessory_line character varying null,
  accessory_code character varying not null,
  accessory_description character varying null,
  accessory_color character varying not null,
  accessory_quantity_for_lump bigint not null,
  accessory_quantity_lump bigint not null,
  accessory_quantity bigint not null,
  accessory_site character varying not null,
  accessory_image_url character varying null,
  accessory_material character varying not null,
  accessory_price numeric(10, 2) null,
  accessory_category character varying not null,
  last_update timestamp without time zone null,
  accessory_brand character varying null,
  constraint accesories_category_pkey primary key (id),
  constraint chk_accessory_price_non_negative check ((accessory_price >= (0)::numeric)),
  constraint chk_accessory_quantity_for_lump_non_negative check ((accessory_quantity_for_lump >= 0)),
  constraint chk_accessory_quantity_lump_non_negative check ((accessory_quantity_lump >= 0)),
  constraint chk_accessory_quantity_non_negative check ((accessory_quantity >= 0))
) TABLESPACE pg_default;

create table public.supplies_category (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  supply_line character varying null,
  supply_code character varying not null,
  supply_description character varying null,
  supply_color character varying not null,
  supply_quantity_for_lump bigint not null,
  supply_quantity_lump bigint not null,
  supply_quantity bigint not null,
  supply_site character varying not null,
  supply_image_url character varying null,
  supply_material character varying not null,
  supply_price numeric(10, 2) null,
  supply_category character varying not null,
  last_update timestamp without time zone null,
  supply_brand character varying null,
  constraint supplies_category_pkey primary key (id),
  constraint chk_supply_price_non_negative check ((supply_price >= (0)::numeric)),
  constraint chk_supply_quantity_for_lump_non_negative check ((supply_quantity_for_lump >= 0)),
  constraint chk_supply_quantity_lump_non_negative check ((supply_quantity_lump >= 0)),
  constraint chk_supply_quantity_non_negative check ((supply_quantity >= 0))
) TABLESPACE pg_default;

create table public.clients (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name character varying not null,
  last_name character varying not null,
  phone_number character varying null,
  locality character varying null,
  addres character varying null,
  email character varying null,
  constraint clients_pkey primary key (id)
) TABLESPACE pg_default;
